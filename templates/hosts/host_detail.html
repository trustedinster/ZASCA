{% extends 'base.html' %}
{% load markdown_extras %}

{% block title %}{{ host.name }} - 主机详情{% endblock %}

{% block content %}
<div class="container">
    <h2>{{ host.name }} - 主机详情</h2>
    
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">{{ host.name }}</h5>
            
            <table class="table table-borderless">
                <tr>
                    <td><strong>主机名称:</strong></td>
                    <td>{{ host.name }}</td>
                </tr>
                <tr>
                    <td><strong>主机地址:</strong></td>
                    <td>{{ host.hostname }}</td>
                </tr>
                <tr>
                    <td><strong>端口:</strong></td>
                    <td>{{ host.port }}</td>
                </tr>
                <tr>
                    <td><strong>用户名:</strong></td>
                    <td>{{ host.username }}</td>
                </tr>
                <tr>
                    <td><strong>主机类型:</strong></td>
                    <td>{{ host.get_host_type_display }}</td>
                </tr>
                <tr>
                    <td><strong>状态:</strong></td>
                    <td>
                        <span class="badge 
                            {% if host.status == 'online' %}badge-success
                            {% elif host.status == 'offline' %}badge-secondary
                            {% elif host.status == 'error' %}badge-danger
                            {% endif %}">
                            {{ host.get_status_display }}
                        </span>
                    </td>
                </tr>
                <tr>
                    <td><strong>操作系统版本:</strong></td>
                    <td>{{ host.os_version|default:"-" }}</td>
                </tr>
                <tr>
                    <td><strong>使用SSL:</strong></td>
                    <td>{{ host.use_ssl|yesno:"是,否,-" }}</td>
                </tr>
                <tr>
                    <td><strong>创建时间:</strong></td>
                    <td>{{ host.created_at|date:"Y-m-d H:i:s" }}</td>
                </tr>
                <tr>
                    <td><strong>更新时间:</strong></td>
                    <td>{{ host.updated_at|date:"Y-m-d H:i:s" }}</td>
                </tr>
                <tr>
                    <td><strong>描述:</strong></td>
                    <td>
                        {% if host.description %}
                            <div class="markdown-content">
                                {{ host.description|markdown_filter }}
                            </div>
                        {% else %}
                            <span class="text-muted">-</span>
                        {% endif %}
                    </td>
                </tr>
            </table>
        </div>
    </div>
    
    <div class="mt-3">
        <a href="{% url 'hosts:list' %}" class="btn btn-secondary">返回主机列表</a>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.markdown-content {
    padding: 15px;
    border: 1px solid #eee;
    border-radius: 4px;
    background-color: #fafafa;
}
.markdown-content h1,
.markdown-content h2,
.markdown-content h3 {
    margin-top: 10px;
    margin-bottom: 10px;
}
.markdown-content p {
    margin-bottom: 10px;
}
.markdown-content ul,
.markdown-content ol {
    margin-bottom: 10px;
}
.markdown-content pre {
    background-color: #f4f4f4;
    padding: 10px;
    border-radius: 4px;
    overflow-x: auto;
}
.markdown-content code {
    background-color: #f4f4f4;
    padding: 2px 4px;
    border-radius: 3px;
}
</style>
{% endblock %}