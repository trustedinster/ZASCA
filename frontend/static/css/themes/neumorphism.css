/**
 * Neumorphism (新拟态) 主题
 *
 * 特点：柔和双向阴影、凸起/凹陷效果、极简配色
 */

/* 导入基础变量 */
@import '_variables.css';

/* 新拟态主题变量 */
:root[data-theme="neumorphism"] {
  /* 背景色 - 新拟态核心 */
  --theme-background: #E0E5EC;
  --theme-surface: #E0E5EC;
  --theme-on-background: #2D3748;
  --theme-on-surface: #2D3748;

  /* 主色调 - 柔和蓝 */
  --theme-primary: #6C63FF;
  --theme-primary-hover: #5B52E0;
  --theme-on-primary: #FFFFFF;

  /* 次要色调 */
  --theme-secondary: #718096;
  --theme-on-secondary: #FFFFFF;

  /* 新拟态阴影系统 */
  --neu-light: rgba(255, 255, 255, 0.8);
  --neu-dark: rgba(163, 177, 198, 0.6);

  /* 凸起阴影 */
  --neu-shadow: -6px -6px 12px var(--neu-light),
                6px 6px 12px var(--neu-dark);
  --neu-shadow-sm: -3px -3px 6px var(--neu-light),
                   3px 3px 6px var(--neu-dark);
  --neu-shadow-lg: -10px -10px 20px var(--neu-light),
                   10px 10px 20px var(--neu-dark);

  /* 凹陷阴影 */
  --neu-shadow-inset: inset 4px 4px 8px var(--neu-dark),
                      inset -4px -4px 8px var(--neu-light);
  --neu-shadow-inset-sm: inset 2px 2px 4px var(--neu-dark),
                         inset -2px -2px 4px var(--neu-light);

  /* 覆盖标准阴影 */
  --theme-shadow-sm: var(--neu-shadow-sm);
  --theme-shadow-md: var(--neu-shadow);
  --theme-shadow-lg: var(--neu-shadow-lg);

  /* 圆角 - 更大 */
  --theme-radius-sm: 12px;
  --theme-radius-md: 16px;
  --theme-radius-lg: 24px;
  --theme-radius-xl: 32px;

  /* 过渡 - 更慢更柔和 */
  --theme-transition: 0.25s ease;
  --theme-transition-slow: 0.4s ease;
}

/* ========== 暗色新拟态 ========== */
:root[data-theme="neumorphism"][data-mode="dark"] {
  --theme-background: #2D3748;
  --theme-surface: #2D3748;
  --theme-on-background: #E2E8F0;
  --theme-on-surface: #E2E8F0;

  --neu-light: rgba(255, 255, 255, 0.05);
  --neu-dark: rgba(0, 0, 0, 0.5);
}

/* ========== 组件样式 ========== */

/* 卡片 */
[data-theme="neumorphism"] .card,
[data-theme="neumorphism"] .theme-card {
  background: var(--theme-surface);
  border: none;
  border-radius: var(--theme-radius-lg);
  box-shadow: var(--neu-shadow);
  transition: box-shadow var(--theme-transition);
}

[data-theme="neumorphism"] .card:hover {
  box-shadow: var(--neu-shadow-lg);
}

/* 按钮 - 凸起效果 */
[data-theme="neumorphism"] .btn-primary {
  background: var(--theme-surface);
  color: var(--theme-primary);
  border: none;
  border-radius: var(--theme-radius-md);
  padding: 12px 28px;
  font-weight: 600;
  box-shadow: var(--neu-shadow);
  transition: all var(--theme-transition);
}

[data-theme="neumorphism"] .btn-primary:hover {
  box-shadow: var(--neu-shadow-sm);
}

[data-theme="neumorphism"] .btn-primary:active {
  box-shadow: var(--neu-shadow-inset);
}

/* 按钮 - 轮廓 */
[data-theme="neumorphism"] .btn-outline-primary {
  background: var(--theme-surface);
  color: var(--theme-primary);
  border: 2px solid var(--theme-primary);
  border-radius: var(--theme-radius-md);
  padding: 10px 26px;
  box-shadow: var(--neu-shadow-sm);
}

[data-theme="neumorphism"] .btn-outline-primary:hover {
  background: var(--theme-primary);
  color: var(--theme-on-primary);
  box-shadow: var(--neu-shadow);
}

/* 输入框 - 凹陷效果 */
[data-theme="neumorphism"] .form-control {
  background: var(--theme-surface);
  border: none;
  border-radius: var(--theme-radius-md);
  padding: 14px 18px;
  box-shadow: var(--neu-shadow-inset);
  transition: box-shadow var(--theme-transition);
}

[data-theme="neumorphism"] .form-control:focus {
  box-shadow: var(--neu-shadow-inset),
              0 0 0 3px rgba(108, 99, 255, 0.2);
  outline: none;
}

[data-theme="neumorphism"] .form-control::placeholder {
  color: var(--theme-on-surface-variant);
  opacity: 0.6;
}

/* 表格 */
[data-theme="neumorphism"] .table {
  background: var(--theme-surface);
  border-radius: var(--theme-radius-lg);
  box-shadow: var(--neu-shadow);
  overflow: hidden;
}

[data-theme="neumorphism"] .table thead th {
  background: transparent;
  color: var(--theme-on-surface);
  font-weight: 600;
  border-bottom: 1px solid rgba(163, 177, 198, 0.3);
}

[data-theme="neumorphism"] .table tbody tr {
  transition: all var(--theme-transition-fast);
}

[data-theme="neumorphism"] .table tbody tr:hover {
  background: rgba(108, 99, 255, 0.05);
}

/* 导航栏 */
[data-theme="neumorphism"] .navbar {
  background: var(--theme-surface) !important;
  box-shadow: var(--neu-shadow);
}

/* 侧边栏 */
[data-theme="neumorphism"] .sidebar {
  background: var(--theme-surface);
  box-shadow: var(--neu-shadow);
  border-right: none;
}

[data-theme="neumorphism"] .sidebar .nav-link {
  border-radius: var(--theme-radius-md);
  margin: 4px 12px;
  transition: all var(--theme-transition);
}

[data-theme="neumorphism"] .sidebar .nav-link:hover {
  box-shadow: var(--neu-shadow-sm);
}

[data-theme="neumorphism"] .sidebar .nav-link.active {
  box-shadow: var(--neu-shadow-inset);
  color: var(--theme-primary);
}

/* 开关 */
[data-theme="neumorphism"] .form-switch .form-check-input {
  background: var(--theme-surface);
  border: none;
  box-shadow: var(--neu-shadow-inset-sm);
  width: 50px;
  height: 26px;
}

[data-theme="neumorphism"] .form-switch .form-check-input:checked {
  background: var(--theme-primary);
  box-shadow: var(--neu-shadow-sm);
}

/* 模态框 */
[data-theme="neumorphism"] .modal-content {
  background: var(--theme-surface);
  border: none;
  border-radius: var(--theme-radius-xl);
  box-shadow: var(--neu-shadow-lg);
}

/* 进度条 */
[data-theme="neumorphism"] .progress {
  background: var(--theme-surface);
  box-shadow: var(--neu-shadow-inset-sm);
  border-radius: var(--theme-radius-full);
  height: 8px;
}

[data-theme="neumorphism"] .progress-bar {
  background: linear-gradient(90deg, var(--theme-primary), #8B80FF);
  border-radius: var(--theme-radius-full);
  box-shadow: 0 0 10px rgba(108, 99, 255, 0.4);
}

/* 徽章 */
[data-theme="neumorphism"] .badge {
  background: var(--theme-surface);
  color: var(--theme-primary);
  box-shadow: var(--neu-shadow-sm);
  border-radius: var(--theme-radius-md);
  padding: 6px 14px;
}

/* ========== 特殊组件 ========== */

/* 图标按钮 */
[data-theme="neumorphism"] .btn-icon {
  width: 48px;
  height: 48px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--theme-radius-md);
  box-shadow: var(--neu-shadow);
}

[data-theme="neumorphism"] .btn-icon:active {
  box-shadow: var(--neu-shadow-inset);
}

/* 头像 */
[data-theme="neumorphism"] .avatar {
  border-radius: var(--theme-radius-md);
  box-shadow: var(--neu-shadow);
}

/* 状态点 */
[data-theme="neumorphism"] .status-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  box-shadow: var(--neu-shadow-sm);
}

.status-dot.online {
  background: var(--theme-success);
}

.status-dot.offline {
  background: var(--theme-error);
}
